```
分页查询api，全部图片、我的图片、搜索图片

分页查询query 

页面控制，预览数据

页面渲染

类型安全地构造 expand filter sort 字符串
```

```
宽度响应式行个数
图片列表行个数均匀函数
高度控制实现
加载效果实现
```

宽度响应式行个数
```
帮我写一个函数

接收参数 数字（指宽度，单位px）

最少3个，最多10个

返回个数
```


```
我在写图片列表页 image page list
以下几个字段帮我小驼峰命名

一行中应显示的个数
内容盒子应保持的高度
内容盒子的行数
内容的数据，图片的个数
内容的数据，图片数组
内容的数据，图片二维数组（即每一行是一个数组）


- **itemsPerRow**：直观表达一行显示多少个元素。
    
- **contentBoxHeight**：保持盒子高度的语义清晰。
    
- **contentBoxRows**：表示行数。
    
- **imageCount**：数量字段一般用 `Count`。
    
- **imageList**：一维数组常用 `List`。
    
- **imageMatrix**：二维数组常用 `Matrix`，语义明确。



将用于计算的图片个数
```

```
帮我写一个ts箭头函数，其将一个数组，变为一个二位数组

参数：
数组
每行的个数
```


图片系统
```
图片选择页
聊天页图片选择实现
图片详情页
图片预览
聊天页图片便捷上传

```

图片选择页
```
分页栏
图片显示
图片中的操作
图片选择
查询刷新
图片底栏选择显示
图片组
```

```
帮我写一个计算函数，用于限制图片显示时的高度，通过计算比例，返回maxWidth 最大宽度来控制的原理

参数有
图片宽度
图片高度
最大高度限制阶梯数组，数组中每一项为 { 宽除以高比例，高度限制数字 }，用与阶梯对应比例以得到对应的高度限制
根据图片大小的限制处理函数，是函数，其中有两个参数，一个是图片宽度，一个是初步计算后maxWidth，即可以进行如下处理，如果图片宽度（除以二）小于初步计算后maxWidth，就可以返回基于图片宽度计算的新maxWidth（图片宽度除以二）

返回的是 maxWidth


注意比例计算时，需预处理图片比例，参考
/**
 * 单图比例计算
 * - 最大 2/1
 * - 最小 1/3
 * - 宽或高为 0 → 默认 16/9
 */
function calcSingleRatio(img: {
  imageWidth: number
  imageHeight: number
}): number {
  const w = img.imageWidth
  const h = img.imageHeight

  if (w === 0 || h === 0) return 16 / 9

  const raw = w / h
  return Math.min(2 / 1, Math.max(1 / 3, raw))
}
```